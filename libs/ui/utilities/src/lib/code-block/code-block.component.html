<div [class]="rootKlassFinal()">
  <div [class]="bodyKlassFinal()">
    @if (showLineNumbers()) {
      <div [class]="gutterKlassFinal()" aria-hidden="true">
        @for (n of lineNumbers(); track n) {
          <div>{{ n }}</div>
        }
      </div>
    }

    @if (showCopy()) {
      <div [class]="copyWrapperKlass()">
        <tng-copy-button
          [text]="code()"
          [variant]="copyVariant()"
          [size]="copySize()"
          [resetAfterMs]="copyResetMs()"
        >
          <!-- default content -->
          <ng-content select="[tngCopy]"></ng-content>

          <!-- copied content -->
          <span tngCopied>
            <ng-content select="[tngCopied]"></ng-content>
          </span>
        </tng-copy-button>
      </div>
    }

    <pre [class]="preKlassFinal()"><code [class]="codeKlassFinal()" [innerHTML]="renderedHtml()"></code></pre>

    <span #projected class="hidden"><ng-content></ng-content></span>
  </div>
</div>