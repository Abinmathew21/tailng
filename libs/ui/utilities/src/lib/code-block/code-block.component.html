<div [class]="rootKlassFinal()">
  <div [class]="bodyKlassFinal()">
    @if (showLineNumbers()) {
      <div [class]="gutterKlassFinal()" aria-hidden="true">
        @for (n of lineNumbers(); track n) {
          <div>{{ n }}</div>
        }
      </div>
    }

    <!-- keep copy button OUTSIDE <pre> whitespace flow -->
    <span (click)="copyCode()" [class]="copyklass()">
      {{ copyLabel() }}
    </span>

    <!-- IMPORTANT: no extra indentation/newlines inside <pre> -->
    <pre [class]="preKlassFinal()"><code [class]="codeKlassFinal()" [innerHTML]="renderedHtml()"></code></pre>

    <span #projected class="hidden"><ng-content></ng-content></span>
  </div>
</div>