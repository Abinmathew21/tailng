<div [class]="rootClassFinal()">
  <!-- Left: range -->
  <div [class]="leftClassFinal()">
    @if (count() > 0) {
      Showing <span class="text-foreground">{{ rangeStart() }}</span>–<span class="text-foreground">{{ rangeEnd() }}</span>
      of <span class="text-foreground">{{ count() }}</span>
    } @else {
      Showing 0 of 0
    }
  </div>

  <!-- Right: controls -->
  <div [class]="rightClassFinal()">
    @if (!hidePageSize()) {
      <div class="flex items-center gap-2">
        <span class="text-xs text-muted-foreground">Rows</span>
        <select
          [class]="selectClassFinal()"
          [value]="pageSize()"
          (change)="onPageSizeSelect($any($event.target).value)"
        >
          @for (s of pageSizeOptions(); track s) {
            <option [value]="s">{{ s }}</option>
          }
        </select>
      </div>
    }

    <button type="button" [class]="buttonClassFinal()" (click)="first()" [disabled]="clampedPage() <= 1">
      «
    </button>

    <button type="button" [class]="buttonClassFinal()" (click)="prev()" [disabled]="clampedPage() <= 1">
      ‹
    </button>

    <!-- Page numbers -->
    <div class="flex items-center gap-1">
      @for (p of pages(); track $index) {
        @if (p === '…') {
          <span [class]="separatorClassFinal()">…</span>
        } @else {
          <button
            type="button"
            [class]="pageBtnClasses(p)"
            (click)="goTo(p)"
            [attr.aria-current]="isActive(p) ? 'page' : null"
          >
            {{ p }}
          </button>
        }
      }
    </div>

    <button type="button" [class]="buttonClassFinal()" (click)="next()" [disabled]="clampedPage() >= totalPages()">
      ›
    </button>

    <button type="button" [class]="buttonClassFinal()" (click)="last()" [disabled]="clampedPage() >= totalPages()">
      »
    </button>
  </div>
</div>
